

<!DOCTYPE html>
<html>
	<head>
		<title>Kent Tour app</title>
	
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link href='bootstrap.css' rel='stylesheet' type='text/css' />

		<!-- Map assets -->
		<link rel="stylesheet" href="http://www.kent.ac.uk/internationalmaps/bower_components/leaflet/dist/leaflet.css" />
		<link rel="stylesheet" href="http://www.kent.ac.uk/internationalmaps/bower_components/font-awesome/css/font-awesome.min.css" />
		<link rel="stylesheet" href="http://www.kent.ac.uk/internationalmaps/bower_components/leaflet-awesome-markers/dist/leaflet.awesome-markers.css" />



<link rel="stylesheet" href="http://www.kent.ac.uk/internationalmaps/bower_components/leaflet-awesome-markers/dist/leaflet.awesome-markers.css" />


		<style>
			header {
				background-color: #041d5d;
				padding:10px;
			}
			header h1 {
				font-size:2em; 
				color:#fff;
				margin-top:0px;

				margin-bottom:0px;
			}

			#map {height:300px;width:100%;}

			.fa {}

			.nearby .row {
				border-top: solid 1px;
				border-bottom: solid 1px;
				margin-top:2px;
			}
			.nearby .row .fa {
				font-size:2.5em; 
				margin-top:14px;
			}
		</style>


		<link rel="stylesheet" href="style.css" />


	</head>
	<body>
	
	<div class='container-fluid'>
	



	<!--<header class='row'>
			<h1>Experience Kent</h1>
		</header>

-->
		<header class="kent-branding">

			<img src="images/kent-logo.png" width="180em"/>

</header>



		<div class='row'>
			<div class='col-12-sm'>
				<div  id='map'></div>
			</div>
		</div>

		


		<h2>Nearby you:</h2>
		<div class='nearby row'>

			
			

			<div class="col-12-sm">




			


			<ul class="link-list key-links">
					<li><a href="https://live.kent.ac.uk" class="ico-email">Canterbury <i class="ico icon-chevron-right"></i></a></li>
					<li><a href="https://www.kent.ac.uk/student/my-study/" class="ico-timetable">Templeman Library <i class="ico icon-chevron-right"></i></a></li>
					<li><a href="https://www.kent.ac.uk/student/my-study/" class="ico-timetable">Gulbenkian <i class="ico icon-chevron-right"></i></a></li>
					<li><a href="https://www.kent.ac.uk/student/my-study/" class="ico-timetable">Colyer Fergusson <i class="ico icon-chevron-right"></i></a></li>
			</ul>

</div>


		</div>




		</div>

	 </div> 


	<script src="http://www.kent.ac.uk/internationalmaps/bower_components/jquery/jquery.min.js"></script>
	<script src="http://www.kent.ac.uk/internationalmaps/bower_components/leaflet/dist/leaflet.js"></script>
	<script src="http://www.kent.ac.uk/internationalmaps/bower_components/leaflet-awesome-markers/dist/leaflet.awesome-markers.js"></script>
	<script>
		// get the tiles
		var tiles =  L.tileLayer('http://maptiles.kent.ac.uk/tiles/{z}/{x}/{y}.png');

		// define the map
		var map = L.map('map',{
			layers: [ tiles ],
			zoom: 16,
			maxBounds: new L.LatLngBounds(new L.LatLng(90, -200), new L.LatLng(-90, 200))
		});

		// Geo locate
		map.locate({
			watch: true,
			setView: true
		});

		// On error, send em somewhere else
		map.on('locationerror', function() {
        	map.panTo([51.29225, 1.06599]);         
    	});
		
		// Add layers
		var poi = new L.LayerGroup().addTo(map);
		var tours = new L.LayerGroup().addTo(map);


		$.ajax({
	        type: 'GET',
	        url: "geo.json",
	        contentType: "application/json",
	       // dataType: 'jsonp',
	       // jsonp: 'jsonp',
	        success: function(data){

				// display geojson data as a map layer
				L.geoJson(data, {

					pointToLayer: function (feature, latlng) {

						console.log("point!");
						console.log(latlng);
						return L.marker(latlng,  
						{
							icon: L.AwesomeMarkers.icon(
								{icon: 'map-marker', markerColor: 'blue', 'prefix': 'fa'}
							) 
						});

				    }

				}).addTo(poi);
			}
		});

	</script>
	</body>
</html>
